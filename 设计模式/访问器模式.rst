.. _访问器模式:

访问器模式
=================

模式动机
----------------
* 软件构建过程中，由于需求的改变，某些类层次结构中常常需要增加行的行为(方法)，
  如果直接在基类中做这样的更改，将会给子类带来很频繁的变更负担，甚至破坏原有的设计
* 如何在不更改类层次结构的前提下，在运行时根据需要透明地为类层次结构上的各个类动态添加新的操作，
  从而避免上述问题？

模式定义
--------------------
表示一个作用于某对象结构中的各个元素的操作。使得可以在不改变(稳定)各元素的类的前提下(扩展)作用于这些元素的新操作(变化)


代码分析
----------------
.. literalinclude:: code/Visitor/Visitor_Shape3.cpp
    :language: cpp


使用std::visit实现静态访问器
-----------------------------------------
.. literalinclude:: code/Visitor/Visitor_Shape6.cpp
    :language: cpp

