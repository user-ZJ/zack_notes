算子替换
=====================

将模型中的某些算子替换成计算逻辑相同，但对于在线部署更友好的算子。

算子替换的原理是通过合并同类项、提取公因式等数学方法，将算子的计算公式加以简化，并将简化后的计算公式映射到某类算子上。

算子替换可以达到降低计算量，降低模型大小的效果。


一换一
---------------------

将某个Op以另外Op代替，能减少推理引擎需要单独实现及支持的Op

* MatMul -> Conv2D  将矩阵乘变成Conv,因为一般框架对Conv是做了更多的优化
* Linear -> Conv2D  将全连接层转变成1x1 Conv，因为一般框架对Conv是做了更多的优化
* BN -> Scale 计算量更少，速度更快
* pRelu -> Leaky Relu  不影响性能和精度的情况下，聚焦有限算法

一换多
-----------
将某个Op以其他Op组合形式替换，能减少推理引擎需要单独实现及支持的Op 

* Shuffle Channel -> Reshape Permute
* ShapeN -> 组合多个Reshape
* Group Conv  -> slice+Conv

    

